# Compliance Masonry - Alpha
[![Build Status](https://travis-ci.org/opencontrol/compliance-masonry.svg?branch=master)](https://travis-ci.org/18F/control-masonry)
[![Code Climate](https://codeclimate.com/github/opencontrol/compliance-masonry/badges/gpa.svg)](https://codeclimate.com/github/opencontrol/compliance-masonry)
## About
Compliance Masonry a CLI that allows users to construct certification documentation using the [OpenControl Schema](https://github.com/opencontrol/schemas). See [Benefits](#benefits) for more explanation.

Alpha note: Compliance Masonry is an emerging project. We recognize that in its current state, Compliance Masonry's user experience still needs to mature.

### Examples
Compliance Masonry examples in the wild:
* [cloud.gov compliance data repository](https://github.com/18F/cg-compliance) + [documentation generated by Compliance Masonry](https://compliance.cloud.gov/)

# Quick Start with CLI

### Installing
1. [Install Python 3.](https://pages.18f.gov/dev-environment-standardization/languages/python/)
1. [Install Node.js.](https://pages.18f.gov/dev-environment-standardization/languages/javascript/)
1. [Install gitbook.](https://github.com/GitbookIO/gitbook#how-to-use-it)
1. Run

    ```bash
    pip install git+https://github.com/opencontrol/compliance-masonry.git
    ```

## Commands

### New Masonry Project
```bash
masonry init
```
New data directory will be created called `data` containing certifications, standards, and components folders.

### New System Template
```bash
masonry new system system_key
```
New system template will be created as `data/components/system_key/`

### New Component Template
```bash
masonry new component system_key component_key
```
New system template will be created as `data/components/system_key/component_key`

### Create certification yamls
```bash
masonry certs FedRAMP-low
```
Creates certification yamls in `exports/certifications`

### Create documentations
```bash
masonry docs gitbook FedRAMP-low
```
Generates the markdowns for a gitbook.

### Create Inventory
```bash
masonry inventory FedRAMP-low
```
Generates a yaml inventory of listing  missing certification and components documentation.

### Add General Documentation
General documentation can be concatenated to gitbook documentation placing gitbook compatible format in the `data/markdowns/gitbook` directory.  

# Documentation Format
Compliance Masonry uses the [OpenControl v2 Schema](https://github.com/opencontrol/schemas).

## Benefits
Modern applications are built on existing systems such as S3, EC2, and Cloud Foundry. Documentation for how these underlying systems fulfill NIST controls or PCI SSC Data Security Standards is a prerequisite for receiving authorization to operate (ATO). Unlike most [System Security Plan documentation](http://csrc.nist.gov/publications/nistpubs/800-18-Rev1/sp800-18-Rev1-final.pdf), Compliance Masonry documentation is built using [OpenControl Schema](https://github.com/opencontrol/schemas), a machine readable format for storing compliance documentation.

Compliance Masonry simplifies the process of certification documentations by providing:
1. a data store for certifications (ex FISMA), standards (ex NIST-800-53), and the individual system components (ex AWS-EC2).
2. a way for government project to edit existing files and also add new control files for their applications and organizations.
3. a pipeline for generating clean and standardized certification documentation.


### Long Term Plan Diagram
![compliance-masonry](https://cloud.githubusercontent.com/assets/47762/9829499/08d2b1dc-58bb-11e5-8185-5dc617188ae7.png)
(Here's [the .gliffy source](https://gist.github.com/mogul/8d7cb123e03b0fe1b993).)

### Data Flow Diagram
![compliance-masonry](https://cloud.githubusercontent.com/assets/4596845/10542998/e6397422-73e9-11e5-8681-5539be8b8164.png)
